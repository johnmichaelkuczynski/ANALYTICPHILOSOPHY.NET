# Ask A Philosopher - Philosophical Q&A Application

## Recent Changes (November 8, 2025)
- **Leibniz Complete Works Training**: Added "The Collected Works of Gottfried Wilhelm Leibniz" (838 chunks, 401,255 words) - comprehensive collection including System of Theology (1686), Discourse on Metaphysics (1686), A Philosopher's Creed (1673), New Essays on the Understanding (1704), Theodicy (1710), Monadology (1714), The Philosophical Works (1890), and Correspondence with Spinoza. Encompasses Leibniz's metaphysics (monads, pre-established harmony, best of all possible worlds), logic and epistemology (innate ideas, truths of reason vs. fact), theodicy (problem of evil, divine justice), and rationalist philosophy. Total Leibniz corpus now 887 chunks representing the most comprehensive rationalist system in the continental tradition.
- **Bertrand Russell Expanded Training**: Added three new works (81 chunks, 38,275 words): "The Practice and Theory of Bolshevism" (48 chunks, 22,922 words) - Russell's critical analysis of Soviet communism after visiting Russia in 1920; "Free Thought and Official Propaganda" (17 chunks, 7,879 words) - Conway Memorial Lecture on independent thinking and propaganda; "On the Experience of Time" (16 chunks, 7,474 words) - philosophical analysis of mental vs. physical time, sensation, memory, and temporal experience. Total Russell corpus now 525 chunks across 8 works spanning logic, epistemology, philosophy of science, political theory, and metaphysics.
- **Lenin Complete Training**: Added "Collected Works of Vladimir Lenin (25+ Texts)" (350 chunks, 166,386 words) covering State and Revolution, What Is to Be Done?, Imperialism: The Final Stage of Capitalism, The Three Sources and Three Component Parts of Marxism, plus numerous decrees, reports, and revolutionary writings. Also added "Materialism and Empirio-Criticism" (251 chunks) - Lenin's philosophical work critiquing empirio-criticism and defending dialectical materialism. Total Lenin corpus: 601 chunks spanning revolutionary theory, Marxist philosophy, and political practice.
- **Hegel Encyclopaedia Training Complete**: Added "The Logic of Hegel (Science of Logic)" (320 chunks, 154,271 words) - Hegel's systematic reconstruction of the commonwealth of thought covering Being, Essence, and the Notion; dialectical logic replacing formal logic; the doctrine of categories as self-developing thought. Combined with existing "Philosophy of Mind" (250 chunks, 119,505 words), Hegel now has 570 total chunks (273,776 words) spanning Logic and Mind from his Encyclopaedia of the Philosophical Sciences.
- **Edgar Allan Poe Complete Works Training**: All 5 volumes now trained (956 total chunks, 459,000+ words). Volume 3 added (213 chunks, 102,673 words) containing "Narrative of A. Gordon Pym" (Poe's only complete novel - Antarctic adventure, mutiny, shipwreck, cannibalism), "Ligeia" (metempsychosis, the triumph of will over death), "Morella" (identity and reincarnation), "A Tale of the Ragged Mountains" (metempsychosis), "The Spectacles" (romantic comedy), "King Pest" (plague allegory), and "Three Sundays in a Week" (paradox tale).
- **Edgar Allan Poe Volume 2 Training Complete**: Added "The Works of Edgar Allan Poe — Volume 2" (205 chunks, 98,100 words) - Poe's Gothic masterpieces including "The Purloined Letter" (third Dupin mystery), "A Descent into the Maelstrom", "The Black Cat", "The Fall of the House of Usher", "The Masque of the Red Death", "The Cask of Amontillado", "The Imp of the Perverse", "The Pit and the Pendulum", "The Premature Burial", "The Tell-Tale Heart", "Berenice", "Eleonora", "William Wilson" (doppelgänger), "The Facts in the Case of M. Valdemar" (mesmerism), "Mesmeric Revelation", "The Thousand-and-Second Tale of Scheherazade", "The Island of the Fay", "The Domain of Arnheim", and "Landor's Cottage".
- **Edgar Allan Poe Volume 1 Training Complete**: Added "The Works of Edgar Allan Poe — Volume 1" (194 chunks, 93,426 words) - Poe's masterworks including biographical material, "The Unparalleled Adventures of One Hans Pfaall" (science fiction hoax), "The Gold-Bug" (cryptography and treasure hunt), "The Murders in the Rue Morgue" (first detective story), "The Mystery of Marie Roget" (analytical investigation), "The Balloon-Hoax", "MS. Found in a Bottle" (maritime mystery), and "The Oval Portrait".
- **Edgar Allan Poe Volume 4 Training Complete**: Added "The Works of Edgar Allan Poe — Volume 4" (186 chunks, 89,303 words) - Poe's satirical and philosophical tales including "The Devil in the Belfry", "Lionizing", "Metzengerstein", "The System of Doctor Tarr and Professor Fether", "How to Write a Blackwood Article", "Diddling", "Mellonta Tauta", philosophical dialogues ("The Power of Words", "The Colloquy of Monos and Una", "The Conversation of Eiros and Charmion").
- **Edgar Allan Poe Volume 5 Training Complete**: Added "The Works of Edgar Allan Poe — Volume 5" (158 chunks, 75,484 words) - Poe's collection including "Philosophy of Furniture", "The Poetic Principle", major poems ("The Raven", "The Bells", "Ulalume", "Annabel Lee", "Lenore", "The Conqueror Worm"), early works ("Al Aaraaf", "Tamerlane", "Israfel").
- **William James Radical Empiricism Training Complete**: Added "Essays in Radical Empiricism" (121 chunks, 57,882 words) - establishes pure experience as fundamental reality, rejects consciousness as separate entity, develops neutral monism. Total William James corpus now 2,298 chunks across 4 major works.
- **William James Psychology Training Complete**: Added "Psychology: Briefer Course" (338 chunks, 162,498 words) - foundational textbook on psychology covering consciousness, sensation, perception, brain function, habit, self, attention, memory.
- **Poincaré Science and Hypothesis Training Complete**: Added "Science and Hypothesis" (418 chunks, 201,403 words) - conventionalist philosophy of science covering mathematical reasoning, non-Euclidean geometries, classical mechanics, philosophy of physics.

## Overview
"Ask A Philosopher" is a philosophical Q&A application designed for deep philosophical discourse with 44 philosophical and literary figures. It leverages their actual writings and advanced AI to provide nuanced and contextually rich responses. The platform integrates philosophical papers as foundational texts, enabling the AI to reason and adapt based on user sophistication. It supports multi-author conversations through a Retrieval-Augmented Generation (RAG) system, ensuring each figure's responses are grounded in their respective works. The project aims to offer an accessible and engaging way to explore complex philosophical ideas and literary works, with J.-M. Kuczynski as the default philosopher.

## User Preferences
- **Response Length Control**: User can type desired response length in words, or leave blank for Auto mode where AI chooses optimal length based on question complexity
- **Quote Frequency Guidance**: User can adjust discretionary quote usage with three levels: Low (deploy quotes rarely, only when critical), Normal (use quotes occasionally when they advance arguments), High (use quotes 1-2 times per response when tactically useful). Quotes are never mandatory - they're weapons deployed only when they strengthen the philosophical attack.
- **Paper Writing Mode**: Toggle to request formal philosophical papers with academic conventions, proper argumentation, and scholarly language
- **Variation**: Never give the same answer twice.
- **Direct Attack Mandate**: All figures attack problems immediately without preambles, commit decisively without hedging, name specific targets rather than vague references, show mechanisms through visible reasoning, reframe confused questions by rejecting false premises, and deploy quotes as logical weapons rather than decoration.

## System Architecture
The application features a 3-column layout without authentication, providing direct access to the chat interface.

### UI/UX Decisions
- **Layout**: A 3-column layout with a far-left column for philosophical figures, a narrow middle sidebar for settings, and a right area for the main chat.
- **Accessibility**: No login required; minimal, visible settings (Response Length, Write a Paper toggle).
- **Visuals**: Animated Kuczynski icon, AI-generated portrait avatars for figures, minimalistic design with elegant typography, and dark mode support.
- **"Talk with X" Feature**: Clickable philosophical figures with avatars for personalized conversations.
- **"Compare Thinkers" Feature**: Allows selecting two philosophers for a side-by-side comparison of their real-time, streaming responses to the same question.

### Technical Implementations
- **Frontend**: React, TypeScript, Wouter, TanStack Query, Shadcn UI, and Tailwind CSS.
- **Backend**: Express.js with Node.js and Drizzle ORM.
- **AI Interaction**: Anthropic Claude Sonnet 4.5 is the primary AI operating at 0.7 temperature. Figures are configured for **Aggressive Direct Reasoning** using a 6-point mandate (Immediate Attack, Commit Without Hedging, Name Specific Targets, Show Mechanism, Reframe Confused Questions, Quotes as Weapons). Philosophers operate as fully realized, maximally intelligent versions who use their doctrines as frameworks for attacking novel problems, not as textbook entries reciting views. Conversation history maintained; philosophers can cite their own works by title.
- **Streaming**: Server-Sent Events (SSE) for real-time word-by-word AI response streaming.
- **Quote Verification**: Comprehensive normalization for quote matching across text formats.
- **Settings**: Users can control response length, quote frequency, and toggle paper writing mode.
- **Paper Writing Feature**: Allows philosophers to write original papers (up to 1500 words) in their authentic voice, utilizing RAG retrieval, with streaming generation and text file download options.
- **Guest User Management**: Session-based storage with auto-generated guest user IDs maintains state without authentication.
- **RAG System**: Papers are chunked, embedded into 1536-dimension vectors, and stored in a PostgreSQL database with pgvector. Semantic search retrieves relevant chunks for the LLM.
- **Multi-Author RAG System**: Maintains separate vector embeddings for each author, filtering searches by author ID to ensure responses are grounded in their specific works.
- **Integrated Philosophical and Literary Works**: Extensive works from 44 philosophers and literary figures are integrated.
- **Document Upload Feature**: Users can upload text documents (.txt, .md, .doc, .docx, .pdf up to 1MB) for analysis, evaluation, or rewriting by philosophers.

## External Dependencies
- **AI Providers**: Anthropic Claude Sonnet 4.5, OpenAI GPT-4o, DeepSeek, Perplexity.
- **Database**: PostgreSQL (Neon) with pgvector extension.
- **Embeddings**: OpenAI `text-embedding-ada-002`.